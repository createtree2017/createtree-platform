ğŸ”‘ TopMedia Lyrics API â€“ ì§„ì§œ ì—”ë“œí¬ì¸íŠ¸ ì •ë¦¬
ê¸°ëŠ¥	HTTP	Path	í•„ìˆ˜ í—¤ë”	Body íŒŒë¼ë¯¸í„°
ê°€ì‚¬ ìƒì„±	POST	https://api.topmediai.com/v1/lyrics	x-api-key: <ë°œê¸‰ë°›ì€ í‚¤>
Content-Type: application/json	{ "prompt": "Happy songs" } (1â€“200ì)

â—ï¸í—·ê°ˆë¦° ë¶€ë¶„
â€¢ topmedia**ai**.com(a-i ë‘ ê¸€ì)ì˜ ì„œë¸Œë„ë©”ì¸ api ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
â€¢ /v1/lyricsë§Œ ì¡´ì¬í•©ë‹ˆë‹¤. /api/lyrics, /lyrics ë“±ì€ 404ê°€ ì •ìƒì…ë‹ˆë‹¤.
â€¢ API Key ì™¸ì— ë³„ë„ ì¸ì¦(ì‹œê·¸ë‹ˆì²˜, í”„ë¡œì íŠ¸ ID ë“±) í•„ìš” ì—†ìŒ.
â€¢ ì‘ë‹µ ë³¸ë¬¸ì€ { "lyrics": "..." } ë˜ëŠ” { "id": "...", "lyrics": "..." } ì‹ì˜ JSON (Mintlify Preview ìƒ â€œanyâ€ ë¡œ í‘œê¸°ëœ ê²ƒë¿ì…ë‹ˆë‹¤).

ğŸ 2ë¶„ ë§Œì— ë¡œì»¬ì—ì„œ í™•ì¸
bash
ë³µì‚¬
í¸ì§‘
curl --request POST \
     --url https://api.topmediai.com/v1/lyrics \
     --header 'Content-Type: application/json' \
     --header 'x-api-key: YOUR_TOPMEDIA_KEY' \
     --data '{"prompt":"Lullaby with a warm piano mood"}'
200 OK + ê°€ì‚¬ ë¬¸ìì—´ì´ ì˜¤ë©´ ì„±ê³µ

422 / 400 â†’ prompt ê¸¸ì´Â·í¬ë§· ì˜¤ë¥˜

404 â†’ ë„ë©”ì¸Â·ê²½ë¡œ ì˜¤íƒ€(ëŒ€ë¶€ë¶„ topmediai â†’ topmediaai, api. ëˆ„ë½, /v1 ìƒëµ ë“±)

ğŸ› ï¸ ë¼í”Œ ì½”ë“œì— ë„£ì„ ìµœì†Œ ë˜í¼
ts
ë³µì‚¬
í¸ì§‘
// server/services/topmedia-lyrics.ts
import axios from 'axios';

export async function generateLyrics(prompt: string) {
  const { data } = await axios.post(
    'https://api.topmediai.com/v1/lyrics',
    { prompt },
    { headers: { 'x-api-key': process.env.TOPMEDIA_API_KEY! } }
  );
  // data.lyrics í˜¹ì€ data?.lyrics ë°˜í™˜ í˜•íƒœë§Œ í™•ì¸
  return data;
}
âš™ï¸ í”„ë¡œì íŠ¸ ìˆ˜ì • ì²´í¬ë¦¬ìŠ¤íŠ¸
.env / Replit Secrets
TOPMEDIA_API_KEY=<32ìë¦¬ í‚¤> ì§€ì •

music-routes.ts

ts
ë³µì‚¬
í¸ì§‘
const lyrics = await generateLyrics(prompt);   // TopMedia í˜¸ì¶œ
insertData.lyrics = lyrics;
shared/schema.ts
lyrics ì»¬ëŸ¼ì„ TEXT nullable ì•„ë‹˜ìœ¼ë¡œ ì •ì˜ â†’ NOT NULL ì œì•½ ì—†ìœ¼ë©´ DB ì˜¤ë¥˜ ì‚¬ë¼ì§.

í”„ë¡ íŠ¸ í¼

ê°€ì‚¬ í•„ë“œëŠ” ì œê±°(TopMediaê°€ ìƒì„±) ë˜ëŠ” lyricsPrompt ë¡œ ë¶„ë¦¬

style, mood ë“± TopMediaê°€ ìš”êµ¬í•˜ëŠ” íŒŒë¼ë¯¸í„°ë§Œ ì „ì†¡

â“ Suno URLì´ ì™œ ë³´ì´ëƒ?
TopMedia ìŒì•… APIê°€ ë‚´ë¶€ì ìœ¼ë¡œ Suno ì„œë¹„ìŠ¤ë¥¼ í˜¸ì¶œí•´ URLì„ ë¦¬í„´í•©ë‹ˆë‹¤.

ì •ìƒ ë™ì‘ì´ë¯€ë¡œ Suno ë„ë©”ì¸ì´ ì°í˜€ ìˆì–´ë„ ê·¸ëŒ€ë¡œ ì €ì¥í•˜ë©´ ë©ë‹ˆë‹¤.

ë¬´í•œ â€œRUNNINGâ€ ë¬¸ì œëŠ” duration === -1 ì¡°ê±´ì„ ë¹¼ê³ , ì˜¤ë””ì˜¤ URL ì¡´ì¬ ì—¬ë¶€ ë§Œìœ¼ë¡œ done ì „í™˜í•˜ë©´ í•´ê²°ë©ë‹ˆë‹¤.

ts
ë³µì‚¬
í¸ì§‘
if (pollRes.audio_url) {
  status = 'done';
  // TODO: uploadToGCS(pollRes.audio_url)
}
ğŸš¦ ë‹¤ìŒ ë‹¨ê³„
ìœ„ ë˜í¼ë¡œ ê°€ì‚¬ ìƒì„± ì„±ê³µ í™•ì¸

music-service.ts ë¦¬íŒ©í„°ë§: provider ==='topmedia' ì¼ ë•Œ lyrics â†’ music ìˆœì°¨ í˜¸ì¶œ

SunoÂ·Replicate íŒŒì¼/ë¼ìš°íŠ¸ ì‚­ì œ or backup (Canvas ì§€ì‹œì„œ 1ë‹¨ê³„)

DB ë§ˆì´ê·¸ë ˆì´ì…˜ í›„ npm run dev â†’ ìƒì„± & ì¡°íšŒ end-to-end í…ŒìŠ¤íŠ¸

ì—¬ì „íˆ 404ë¼ë©´ ë„ë©”ì¸ ì˜¤íƒ€Â·API KeyÂ·IP ì°¨ë‹¨ ì—¬ë¶€ ì¬í™•ì¸ â†’ TopMedia ì§€ì›íŒ€ì— í‚¤ ìƒíƒœ ë¬¸ì˜