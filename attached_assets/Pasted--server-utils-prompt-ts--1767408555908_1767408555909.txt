ìˆ˜ì • ì œì•ˆ: ë™ì  í”„ë¡¬í”„íŠ¸ êµ¬ì¡°
ë°±ì—”ë“œ(server/utils/prompt.ts)ì—ì„œ ì´ë¯¸ì§€ ê°œìˆ˜ì— ë”°ë¼ ë‚´ìš©ì„ ê°ˆì•„ë¼ìš¸ ìˆ˜ ìˆë„ë¡ í”„ë¡¬í”„íŠ¸ë¥¼ êµ¬ì¡°í™”í•´ì•¼ í•©ë‹ˆë‹¤.

ì•„ë˜ ë‚´ìš©ì„ ë³µì‚¬í•˜ì—¬ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ìœ¼ë¡œ ì‚¬ìš©í•´ ë³´ì„¸ìš”.

[ìˆ˜ì •ëœ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿]
Markdown

# Role
You are an expert layout designer for Christmas-themed photo albums.

# Task
Create a flat-lay composite image integrating [IMAGE_COUNT] user-provided ultrasound photos into a beautiful Christmas background.

# 1. Background & Atmosphere
* **Background Color:** Soft Pastel Sky Blue.
* **Bottom Area:** Festive arrangement of Red/Green/Gold Christmas gift boxes, Gingerbread cookies, and a Red Rudolph-patterned blanket.
* **Decorations:** Candy canes, snowflakes, and sparkling stars scattered harmoniously across the canvas.

# 2. Layout & Composition (Strict Grid System)
You MUST create [IMAGE_COUNT] distinct frames. Do not merge them.
Refer to the following layout plan based on [IMAGE_COUNT] images:

[LAYOUT_INSTRUCTION] 
*(ê°œë°œì ì£¼ì„: ì´ ë¶€ë¶„ì€ ë°±ì—”ë“œì—ì„œ ì´ë¯¸ì§€ ê°œìˆ˜ì— ë”°ë¼ ì•„ë˜ ë‚´ìš© ì¤‘ í•˜ë‚˜ë¡œ ì¹˜í™˜ë˜ì–´ì•¼ í•©ë‹ˆë‹¤)*
* **Case 3 Images:**
    1.  **Top-Left:** Place [IMAGE_1] inside a thin gold frame. Write the text "[TEXT_1]" clearly just below the frame.
    2.  **Center-Right:** Place [IMAGE_2] inside a white frame. Write the text "[TEXT_2]" in a handwritten style next to it.
    3.  **Bottom-Left:** Place [IMAGE_3] on top of the gift boxes. Write the text "[TEXT_3]" nearby.

# 3. Text & Image Integration Rules
* **Text Rendering:** You must render the text content explicitly provided in the quotes above. Do not write the variable names like "TEXT_1". Write the *actual content* replaced in that spot.
* **Preservation:** DO NOT alter the content of the ultrasound photos (faces, shapes). Just add the frame border and shadow.
* **Shadows:** Apply soft, natural drop shadows to the photo frames so they look placed on the canvas.

# 4. Negative Prompts
* No binder rings, no metal spirals, no 3D book spine.
* No human hands holding the photos.
* No text overlapping the faces in the photos.

# 5. Output Specs
* Aspect Ratio: Vertical (A4 roughly 210:297)
* Resolution: 4K, Cinematic Lighting.
ğŸ› ï¸ ê°œë°œìê°€ ì½”ë“œì—ì„œ ì²˜ë¦¬í•´ì•¼ í•  2ë‹¨ê³„ (í•„ìˆ˜)
ìœ„ í”„ë¡¬í”„íŠ¸ê°€ ì œëŒ€ë¡œ ì‘ë™í•˜ë ¤ë©´, **ë°±ì—”ë“œ ì½”ë“œ(server/utils/prompt.ts)**ì—ì„œ ì•„ë˜ ë‘ ê°€ì§€ ì‘ì—…ì´ ë°˜ë“œì‹œ ì„ í–‰ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

1ë‹¨ê³„: í…ìŠ¤íŠ¸ ì¹˜í™˜ (Replace)
í”„ë¡¬í”„íŠ¸ë¥¼ AIì—ê²Œ ë³´ë‚´ê¸° ì§ì „ì—, ë¬¸ìì—´ ì¹˜í™˜ì„ ìˆ˜í–‰í•´ì•¼ í•©ë‹ˆë‹¤.

Before: Write the text "[TEXT_1]" After: Write the text "12ì£¼ì°¨ ìš°ë¦¬ ì•„ê¸°"

ì½”ë“œê°€ ì•„ë˜ì²˜ëŸ¼ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”:

TypeScript

// ì˜ˆì‹œ ë¡œì§
let prompt = template;
prompt = prompt.replace("[IMAGE_COUNT]", "3"); // ì´ë¯¸ì§€ ê°œìˆ˜ ëª…ì‹œ
prompt = prompt.replace("[TEXT_1]", userInputs[0].text); // ì‹¤ì œ í…ìŠ¤íŠ¸ë¡œ ë³€ê²½
// [TEXT_1]ì´ë¼ëŠ” ê¸€ìê°€ í”„ë¡¬í”„íŠ¸ì— ë‚¨ì•„ìˆìœ¼ë©´ ì ˆëŒ€ ì•ˆ ë©ë‹ˆë‹¤!
2ë‹¨ê³„: ë ˆì´ì•„ì›ƒ ë¬¸ìì—´ ì£¼ì… ([LAYOUT_INSTRUCTION])
ì´ë¯¸ì§€ ê°œìˆ˜(N)ì— ë”°ë¼ í”„ë¡¬í”„íŠ¸ì˜ [LAYOUT_INSTRUCTION] ë¶€ë¶„ì„ ë™ì ìœ¼ë¡œ ë°”ê¿”ì£¼ì„¸ìš”.

ì´ë¯¸ì§€ê°€ 1ê°œì¼ ë•Œ: "Place [IMAGE_1] in the center with a large gold frame."

ì´ë¯¸ì§€ê°€ 3ê°œì¼ ë•Œ: "Arrange 3 photos in a Zig-Zag pattern. Top-Left([IMAGE_1]), Center-Right([IMAGE_2]), Bottom-Left([IMAGE_3])."

ìš”ì•½í•˜ìë©´: í”„ë¡¬í”„íŠ¸ì—ì„œ "AIê°€ ì•Œì•„ì„œ ìˆ˜ëŸ‰ì„ íŒŒì•…í•´ë¼"ë¼ëŠ” ë¬¸ì¥ì„ ì§€ìš°ê³ , ì½”ë“œê°€ ìˆ˜ëŸ‰ì„ íŒŒì•…í•´ì„œ "3ì¥ì„ ì´ë ‡ê²Œ ë°°ì¹˜í•´ë¼"ë¼ê³  êµ¬ì²´ì ìœ¼ë¡œ ëª…ë ¹í•˜ë„ë¡ ìˆ˜ì •í•˜ì‹œë©´ ë¬¸ì œê°€ í•´ê²°ë  ê²ƒì…ë‹ˆë‹¤.